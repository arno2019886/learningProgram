window.__require=function t(i,e,o){function n(s,r){if(!e[s]){if(!i[s]){var a=s.split("/");if(a=a[a.length-1],!i[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var d=e[s]={exports:{}};i[s][0].call(d.exports,function(t){return n(i[s][1][t]||t)},d,d.exports,t,i,e,o)}return e[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<o.length;s++)n(o[s]);return n}({block:[function(t,i,e){"use strict";cc._RF.push(i,"2c408+7usdOubDk2XOpuBpt","block"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",this.touchStart,this),this.node.on("touchmove",this.touchMove,this),this.node.on("touchend",this.touchEnd,this)},onDestroy:function(){this.node.off("touchstart",this.touchStart,this),this.node.off("touchmove",this.touchMove,this),this.node.off("touchend",this.touchEnd,this)},touchStart:function(t){this.node.opacity=128,this.startPos=this.node.position,this.node.zIndex=1},touchMove:function(t){var i=t.getDelta();this.node.x+=i.x,this.node.y+=i.y},touchEnd:function(t){this.node.opacity=255,this.node.zIndex=0;var i=this.node.width,e=this.node.height,o=this.getPos2Index(this.node.position),n=window.game.picNodeArr[o.i][o.j];if(n){this.node.setPosition(o.j*i,-o.i*e),n.setPosition(this.startPos);var c=this.getPos2Index(this.startPos);window.game.picNodeArr[c.i][c.j]=n,window.game.picNodeArr[o.i][o.j]=this.node;var s=window.game.checkOver();console.log("\u8fc7\u5173\u6ca1",s)}else this.node.setPosition(this.startPos)},getPos2Index:function(t){var i=this.node.width,e=this.node.height,o=Math.abs(parseInt((t.x+i/2)/i)),n=Math.abs(parseInt((t.y-e/2)/e));return console.log(o,n),{i:n,j:o}},init:function(t,i){var e=this.node.getComponent(cc.Sprite),o=this.node.width,n=this.node.height,c=new cc.SpriteFrame(t,cc.rect(i.x*o,i.y*n,o,n));e.spriteFrame=c},qudiao:function(){sprite.spriteFrame.destroy()}}),cc._RF.pop()},{}],game:[function(t,i,e){"use strict";cc._RF.push(i,"a35c3RykZNAHo/jiG8MUYkH","game"),cc.Class({extends:cc.Component,properties:{blockPrefab:cc.Prefab,jieshu:cc.Node,premap:cc.Sprite,emty:cc.Sprite,timelabel:cc.RichText},onLoad:function(){var t=this;window.game=this;var i=new cc.Node("Sprite");if(i.parent=this.node,this.jieshu.active=!1,this.jieshu.zIndex=2,cc.loader.loadRes("/map0",function(e,o){t.picTexture=o,t.premap.spriteFrame=new cc.SpriteFrame(o),t.picNodeArr=[];for(var n=0;n<4;n++){t.picNodeArr[n]=[];for(var c=0;c<4;c++){var s=cc.instantiate(t.blockPrefab);i.addChild(s),s.setPosition(cc.v2(180*c,180*-n)),s.getComponent("block").init(o,cc.v2(c,n)),s.mPos={i:n,j:c},t.picNodeArr[n][c]=s}}t.randPic()}),this.view=1,this.timeM=0,this.timeS=0,cc.sys.localStorage.getItem("record")){var e=JSON.parse(cc.sys.localStorage.getItem("record"));this.timetotal=e[0],this.comleteCount=e[1]}else this.timetotal=0,this.comleteCount=1;this.timeCall=function(){window.game.timecount()},this.schedule(this.timeCall,1)},newinit:function(t){var i=this;this.jieshu.active=!1;var e=new cc.Node("Sprite");e.parent=this.node,cc.loader.loadRes("/map".concat(t),function(t,o){i.picTexture=o,i.premap.spriteFrame=new cc.SpriteFrame(o);for(var n=0;n<4;n++)for(var c=0;c<4;c++)i.picNodeArr[n][c].destroy();for(var s=0;s<4;s++){i.picNodeArr[s]=[];for(var r=0;r<4;r++){var a=cc.instantiate(i.blockPrefab);e.addChild(a),a.setPosition(cc.v2(180*r,180*-s)),a.getComponent("block").init(o,cc.v2(r,s)),a.mPos={i:s,j:r},i.picNodeArr[s][r]=a}}i.randPic()})},changepic:function(){this.schedule(this.timeCall,1),this.view=1;var t=parseInt(10*Math.random());this.newinit(t),this.timeM=0,this.timeS=0},shutwindow:function(){this.jieshu.active=!1,this.view=0},checkOver:function(){for(var t=0,i=0;i<4;i++)for(var e=0;e<4;e++){var o=this.picNodeArr[i][e].mPos;o.i==i&&o.j==e&&t++}if(16==t&0==this.jieshu.active&1==this.view){this.jieshu.active=!0,this.unschedule(this.timeCall),this.comleteCount++;var n=[];n[0]=this.timetotal,n[1]=this.comleteCount,cc.sys.localStorage.setItem("record",JSON.stringify(n))}},randPic:function(){for(var t=0;t<4;t++)for(var i=0;i<4;i++){var e=this.picNodeArr[t][i],o={i:parseInt(4*Math.random()),j:parseInt(4*Math.random())},n=this.picNodeArr[o.i][o.j],c=e.position,s=n.position;e.setPosition(s),n.setPosition(c),this.picNodeArr[t][i]=n,this.picNodeArr[o.i][o.j]=e}},timecount:function(){this.timetotal++,this.timeS++,60==this.timeS&&(this.timeS=0,this.timeM++)},update:function(t){this.timelabel.string="<color=#A2A2A2>00\uff1a".concat(window.game.timeM,"\uff1a</c><color=#FF9FD9>").concat(window.game.timeS,"</color>\n<color=#A2A2A2>\u5e73\u5747\u7528\u65f6").concat(Math.floor(window.game.timetotal/window.game.comleteCount),"\u79d2</color>")}}),cc._RF.pop()},{}],tongguan:[function(t,i,e){"use strict";cc._RF.push(i,"b45fa0fgT9BTYTmkw5MmUp6","tongguan"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.active=ture}}),cc._RF.pop()},{}]},{},["block","game","tongguan"]);