window.__require=function t(i,o,e){function n(c,s){if(!o[c]){if(!i[c]){var a=c.split("/");if(a=a[a.length-1],!i[a]){var h="function"==typeof __require&&__require;if(!s&&h)return h(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var d=o[c]={exports:{}};i[c][0].call(d.exports,function(t){return n(i[c][1][t]||t)},d,d.exports,t,i,o,e)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<e.length;c++)n(e[c]);return n}({block:[function(t,i,o){"use strict";cc._RF.push(i,"2c408+7usdOubDk2XOpuBpt","block"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",this.touchStart,this),this.node.on("touchmove",this.touchMove,this),this.node.on("touchend",this.touchEnd,this)},onDestroy:function(){this.node.off("touchstart",this.touchStart,this),this.node.off("touchmove",this.touchMove,this),this.node.off("touchend",this.touchEnd,this)},touchStart:function(t){this.node.opacity=128,this.startPos=this.node.position,this.node.zIndex=1},touchMove:function(t){var i=t.getDelta();this.node.x+=i.x,this.node.y+=i.y},touchEnd:function(t){this.node.opacity=255,this.node.zIndex=0;var i=this.node.width,o=this.node.height,e=this.getPos2Index(this.node.position),n=window.game.picNodeArr[e.i][e.j];if(n){this.node.setPosition(e.j*i,-e.i*o),n.setPosition(this.startPos);var r=this.getPos2Index(this.startPos);window.game.picNodeArr[r.i][r.j]=n,window.game.picNodeArr[e.i][e.j]=this.node;var c=window.game.checkOver();console.log("\u8fc7\u5173\u6ca1",c)}else this.node.setPosition(this.startPos)},getPos2Index:function(t){var i=this.node.width,o=this.node.height,e=Math.abs(parseInt((t.x+i/2)/i)),n=Math.abs(parseInt((t.y-o/2)/o));return console.log(e,n),{i:n,j:e}},init:function(t,i){var o=this.node.getComponent(cc.Sprite),e=this.node.width,n=this.node.height,r=new cc.SpriteFrame(t,cc.rect(i.x*e,i.y*n,e,n));o.spriteFrame=r},qudiao:function(){sprite.spriteFrame.destroy()}}),cc._RF.pop()},{}],game:[function(t,i,o){"use strict";cc._RF.push(i,"a35c3RykZNAHo/jiG8MUYkH","game"),cc.Class({extends:cc.Component,properties:{blockPrefab:cc.Prefab,jieshu:cc.Node,premap:cc.Sprite,emty:cc.Sprite},onLoad:function(){var t=this;window.game=this;var i=new cc.Node("Sprite");i.parent=this.node,this.jieshu.active=!1,this.jieshu.zIndex=2,cc.loader.loadRes("/map0",function(o,e){t.picTexture=e,t.premap.spriteFrame=new cc.SpriteFrame(e),t.picNodeArr=[];for(var n=0;n<4;n++){t.picNodeArr[n]=[];for(var r=0;r<4;r++){var c=cc.instantiate(t.blockPrefab);i.addChild(c),c.setPosition(cc.v2(180*r,180*-n)),c.getComponent("block").init(e,cc.v2(r,n)),c.mPos={i:n,j:r},t.picNodeArr[n][r]=c}}t.randPic()})},newinit:function(t){var i=this;this.jieshu.active=!1,this.jieshu.opacity=255;var o=new cc.Node("Sprite");o.parent=this.node,cc.loader.loadRes("/map".concat(t),function(t,e){i.picTexture=e,i.premap.spriteFrame=new cc.SpriteFrame(e);for(var n=0;n<4;n++)for(var r=0;r<4;r++)i.picNodeArr[n][r].destroy();for(var c=0;c<4;c++){i.picNodeArr[c]=[];for(var s=0;s<4;s++){var a=cc.instantiate(i.blockPrefab);o.addChild(a),a.setPosition(cc.v2(180*s,180*-c)),a.getComponent("block").init(e,cc.v2(s,c)),a.mPos={i:c,j:s},i.picNodeArr[c][s]=a}}i.randPic()})},changepic:function(){var t=parseInt(10*Math.random());this.newinit(t)},shutwindow:function(){this.jieshu.opacity=0},checkOver:function(){for(var t=0,i=0;i<4;i++)for(var o=0;o<4;o++){var e=this.picNodeArr[i][o].mPos;e.i==i&&e.j==o&&t++}16==t&&(this.jieshu.active=!0)},randPic:function(){for(var t=0;t<4;t++)for(var i=0;i<4;i++){var o=this.picNodeArr[t][i],e={i:parseInt(4*Math.random()),j:parseInt(4*Math.random())},n=this.picNodeArr[e.i][e.j],r=o.position,c=n.position;o.setPosition(c),n.setPosition(r),this.picNodeArr[t][i]=n,this.picNodeArr[e.i][e.j]=o}}}),cc._RF.pop()},{}],tongguan:[function(t,i,o){"use strict";cc._RF.push(i,"b45fa0fgT9BTYTmkw5MmUp6","tongguan"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.active=ture}}),cc._RF.pop()},{}]},{},["block","game","tongguan"]);